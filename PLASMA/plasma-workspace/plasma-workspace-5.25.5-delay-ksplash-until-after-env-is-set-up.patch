diff '--color=auto' -r -U3 plasma-workspace-5.25.5.orig/startkde/startplasma-x11.cpp plasma-workspace-5.25.5/startkde/startplasma-x11.cpp
--- plasma-workspace-5.25.5.orig/startkde/startplasma-x11.cpp	2022-09-06 15:35:53.000000000 +0300
+++ plasma-workspace-5.25.5/startkde/startplasma-x11.cpp	2022-09-30 14:07:12.071847000 +0300
@@ -16,6 +16,10 @@
     out << "GOT SIGHUP\n";
 }
 
+struct ksplash_deleter {
+    void operator()(QProcess* proc) { if(proc) { gentleTermination(proc); } }
+};
+
 int main(int argc, char **argv)
 {
     // When the X server dies we get a HUP signal from xinit. We must ignore it
@@ -57,9 +61,6 @@
         }
     }
 
-    setupCursor(false);
-    QScopedPointer<QProcess, KillBeforeDeleter> ksplash(setupKSplash());
-
     runEnvironmentScripts();
 
     out << "startkde: Starting up...\n";
@@ -79,6 +80,11 @@
     // variables (e.g. LANG and LC_*)
     importSystemdEnvrionment();
 
+    // NOTE: Do not start QGuiApplications before setting up the environment. We'd be at risk of dbus invoking other
+    // processes with an incomplete environment.
+    setupCursor(false);
+    std::unique_ptr<QProcess, ksplash_deleter> ksplash(setupKSplash());
+
     if (!startPlasmaSession(false))
         return 1;
 
