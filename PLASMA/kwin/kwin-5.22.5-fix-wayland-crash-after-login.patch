diff '--color=auto' -r -U3 kwin-5.22.5.orig/src/xkb.cpp kwin-5.22.5/src/xkb.cpp
--- kwin-5.22.5.orig/src/xkb.cpp	2021-08-31 14:41:03.000000000 +0300
+++ kwin-5.22.5/src/xkb.cpp	2021-10-07 11:10:59.487765198 +0300
@@ -406,7 +406,8 @@
 
 const QString &Xkb::layoutShortName(int index) const
 {
-    return m_layoutList.at(index);
+    static const QString empty;
+    return index < m_layoutList.size() ? m_layoutList.at(index) : empty;
 }
 
 void Xkb::updateConsumedModifiers(uint32_t key)
